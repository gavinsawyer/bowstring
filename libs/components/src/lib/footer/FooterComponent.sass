\:host
  display: contents

  > div
    display: flex
    margin-bottom: -0.75rem

    > div
      background: var(--glass--background)
      bottom: 0
      display: none
      height: 2.25rem
      left: 0
      mask-image: linear-gradient(to bottom, transparent, black 1.5rem 2.25rem)
      position: fixed
      width: 100vw
      z-index: 3

      @mixin show--backdrop
        backdrop-filter: blur(2rem) saturate(2)
        opacity: 1

      @mixin hide--backdrop
        backdrop-filter: blur(0) saturate(1)
        opacity: 0

      @include hide--backdrop

      @keyframes show--backdrop
        0%
          @include hide--backdrop

        100%
          @include show--backdrop

      @keyframes hide--backdrop
        0%
          @include show--backdrop

        100%
          @include hide--backdrop

    &.shown
      > div
        animation: show--backdrop 200ms ease-in-out forwards
        display: flex

      &.hiding > div
        animation: hide--backdrop 200ms ease-in-out forwards

  > footer
    background: var(--footer--canvas--background)
    bottom: 0.75rem
    color: var(--footer--canvas--foreground)
    cursor: default
    display: flex
    gap: 0.625rem 0.75rem
    padding: 0.75rem 1rem
    z-index: 3

    @mixin raise--footer
      border-radius: calc(var(--border-radius) / 2)
      box-shadow: black 0 calc(2 * var(--depth-offset)) calc(2 * var(--depth-blur)) calc(2 * var(--depth-spread))
      margin: 0 -0.5rem
      translate: none

    @mixin lower--footer
      border-radius: var(--border-radius)
      box-shadow: black 0 calc(1 * var(--depth-offset)) calc(1 * var(--depth-blur)) calc(1 * var(--depth-spread))
      margin: unset
      translate: 0 var(--unsticking-translation)

    @include lower--footer

    &:not(.stuck)
      translate: none

    &.stuck.raised
      position: sticky
      animation: raise--footer 200ms ease-in-out forwards

      &.lowering,
      &.unsticking
        animation: lower--footer 200ms ease-in-out forwards

    @keyframes raise--footer
      0%
        @include lower--footer

      100%
        @include raise--footer

    @keyframes lower--footer
      0%
        @include raise--footer

      100%
        @include lower--footer

  @media (min-width: 26rem)
    > div
      margin-bottom: -1.5rem

      > div
        height: 4.5rem
        mask-image: linear-gradient(to bottom, transparent, black 3rem 4.5rem)

    > footer
      bottom: 1.5rem
