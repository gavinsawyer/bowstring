\:host
  bottom: 0.75rem
  display: flex
  flex-direction: row
  z-index: 3

  &::before
    background: var(--glass--background)
    height: calc(100% + var(--container-offset-bottom) + 0.75rem)
    left: 50%
    mask-image: linear-gradient(to bottom, transparent, black calc(100% - var(--container-offset-bottom) - 0.75rem) 100%)
    position: absolute
    top: 0
    translate: -50%
    width: 100vw
    z-index: -1

    @mixin stick--pseudoelement
      backdrop-filter: blur(2rem) saturate(2)
      opacity: 1

    @mixin unstick--pseudoelement
      backdrop-filter: blur(0) saturate(1)
      opacity: 0

    @include unstick--pseudoelement

    @keyframes stick--pseudoelement
      0%
        @include unstick--pseudoelement

      100%
        @include stick--pseudoelement

    @keyframes unstick--pseudoelement
      0%
        @include stick--pseudoelement

      100%
        @include unstick--pseudoelement

  > footer
    background: var(--footer--canvas--background)
    color: var(--footer--canvas--foreground)
    cursor: default
    display: flex
    flex-direction: row
    flex-grow: 1
    flex-wrap: wrap
    gap: 0.625rem 0.75rem
    justify-content: center
    padding: 0.75rem 1rem

    @mixin stick--footer
      border-radius: calc(var(--border-radius) / 2)
      box-shadow: black 0 calc(2 * var(--depth-offset)) calc(2 * var(--depth-blur)) calc(2 * var(--depth-spread))
      margin: 0 -0.5rem
      translate: none

    @mixin unstick--footer
      border-radius: var(--border-radius)
      box-shadow: black 0 calc(1 * var(--depth-offset)) calc(1 * var(--depth-blur)) calc(1 * var(--depth-spread))
      margin: unset
      translate: 0 var(--unsticking-translation)

    @include unstick--footer

    &::ng-deep > span
      order: 1
      text-align: center
      white-space: nowrap

      &:first-child
        flex-basis: 100%
        order: 0

      &:last-child
        order: 2

    @media (min-width: 52rem)
      justify-content: space-between

      &::ng-deep > span:first-child
        flex-basis: unset
        order: 2

    @keyframes stick--footer
      0%
        @include unstick--footer

      100%
        @include stick--footer

    @keyframes unstick--footer
      0%
        @include stick--footer

      100%
        @include unstick--footer

  &:not(.stuck) > footer
    translate: none

  &.stuck
    position: sticky

    &::before
      animation: stick--pseudoelement 200ms ease-in-out forwards
      content: ""

    > footer
      animation: stick--footer 200ms ease-in-out forwards

    &.unsticking
      &::before
        animation: unstick--pseudoelement 200ms ease-in-out forwards

      > footer
        animation: unstick--footer 200ms ease-in-out forwards

  @media (min-width: 26rem)
    bottom: 1.5rem

    &::before
      height: calc(100% + var(--container-offset-bottom) + 1.5rem)
      mask-image: linear-gradient(to bottom, transparent, black calc(100% - var(--container-offset-bottom) - 1.5rem) 100%)
