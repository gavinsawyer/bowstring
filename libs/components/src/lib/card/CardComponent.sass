$light-foreground: hsl(0, 0%, 15%)
$light-background: hsl(0, 0%, 95%)

$dark-foreground:  hsl(0, 0%, 85%)
$dark-background:  hsl(0, 0%, 15%)

$image-foreground: hsl(0, 0%, 92%)
$image-background: hsl(0, 0%, 18%)

$border-radius: var(--border-radius)

$depth-offset: var(--depth-offset)
$depth-blur:   var(--depth-blur)
$depth-spread: var(--depth-spread)

\:host
  border-radius: $border-radius
  box-shadow: black 0 $depth-offset $depth-blur $depth-spread
  display: flex
  flex-direction: column-reverse
  padding: 1.125rem 1rem 0.875rem

  &::ng-deep
    & > hgroup:has(+ img)
      max-width: 32rem
      position: relative

      & > h1
        background: linear-gradient(to bottom, transparent, hsla(0, 0%, 0%, 0.5) 4rem)
        color: $image-foreground
        margin: 0 -1rem !important
        padding: 4rem 1rem 0.875rem
        position: absolute
        transform: translateY(-100%)
        width: 100%

        & > a
          text-decoration-color: $image-foreground
          text-shadow: none
          transition: color 200ms ease, text-decoration-color 200ms ease

          &::before
            display: none

          &:active,
          &.no-op
            text-decoration-color: currentColor

          &:hover,
          &.no-op
            text-decoration: underline

    & > img
      background: $image-background
      border-top-left-radius: $border-radius
      border-top-right-radius: $border-radius
      color: $image-foreground
      margin: -1.125rem -1rem 0
      max-width: calc(100% + 2rem)

  @mixin colors($foreground, $background)
    background: $background
    color: $foreground

    &::ng-deep > hgroup
      & > h1,
      & > p
        & > a
          text-shadow: $background 0.07em 0.07em, $background 0 0.07em, $background -0.07em 0.07em, $background -0.07em 0, $background -0.07em -0.07em, $background 0 -0.07em, $background 0.07em -0.07em, $background 0.07em 0

          &::before
            background: $foreground

  @include colors($light-foreground, $light-background)

  @media (prefers-color-scheme: dark)
    @include colors($dark-foreground, $dark-background)
