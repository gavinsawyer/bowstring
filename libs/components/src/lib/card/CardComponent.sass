\:host
  border-radius: var(--border-radius)
  box-shadow: black 0 var(--depth-offset) var(--depth-blur) var(--depth-spread)
  display: flex
  flex-direction: column-reverse
  padding: 1.125rem 1rem 0.875rem

  &::ng-deep
    & > hgroup
      & > h1,
      & > h2,
      & > h3,
      & > h4
        cursor: default

      &:has(+ img)
        position: relative

        & > h1,
        & > h2,
        & > h3,
        & > h4
          background: linear-gradient(to bottom, transparent, hsla(0, 0%, 0%, 0.5) 4rem)
          color: var(--card-dark-foreground)
          margin: 0 -1rem !important
          padding: 4rem 1rem 0.875rem
          position: absolute
          transform: translateY(-100%)
          width: 100%

          & > standard--link::ng-deep > a
            text-decoration-color: var(--card-dark-foreground)
            text-shadow: none
            transition: color 200ms ease, text-decoration-color 200ms ease

            &::before
              display: none

            &:active,
            &.no-op
              text-decoration-color: currentColor

            &:hover,
            &.no-op
              text-decoration: underline

    & > img
      border-top-left-radius: var(--border-radius)
      border-top-right-radius: var(--border-radius)
      color: var(--card-dark-foreground)
      margin: -1.125rem -1rem 0
      max-width: calc(100% + 2rem)

      &:first-child
        border-radius: var(--border-radius)
        margin: -1.125rem -1rem -0.875rem

  @mixin colors($foreground, $foreground-grey, $background, $background-grey)
    background: $background
    color: $foreground

    &::ng-deep
      & > hgroup
        & > h1,
        & > h2,
        & > h3,
        & > h4,
        & > p
          & > standard--link::ng-deep > a
            text-shadow: $background 0.07em 0.07em, $background 0 0.07em, $background -0.07em 0.07em, $background -0.07em 0, $background -0.07em -0.07em, $background 0 -0.07em, $background 0.07em -0.07em, $background 0.07em 0

            &::before
              background: $foreground

  @include colors(var(--card-light-foreground), var(--card-light-foreground-grey), var(--card-light-background), var(--card-light-background-grey))

  @media (prefers-color-scheme: dark)
    @include colors(var(--card-dark-foreground), var(--card-dark-foreground-grey), var(--card-dark-background), var(--card-dark-background-grey))
